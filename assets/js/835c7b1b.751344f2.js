"use strict";(self.webpackChunkgo_4_clouds=self.webpackChunkgo_4_clouds||[]).push([[701],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>d});var r=n(7294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var i=r.createContext({}),s=function(e){var t=r.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=s(e.components);return r.createElement(i.Provider,{value:t},e.children)},p="mdxType",k={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},b=r.forwardRef((function(e,t){var n=e.components,l=e.mdxType,o=e.originalType,i=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),p=s(n),b=l,d=p["".concat(i,".").concat(b)]||p[b]||k[b]||o;return n?r.createElement(d,a(a({ref:t},u),{},{components:n})):r.createElement(d,a({ref:t},u))}));function d(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var o=n.length,a=new Array(o);a[0]=b;var c={};for(var i in t)hasOwnProperty.call(t,i)&&(c[i]=t[i]);c.originalType=e,c[p]="string"==typeof e?e:l,a[1]=c;for(var s=2;s<o;s++)a[s]=n[s];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}b.displayName="MDXCreateElement"},8174:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>c,toc:()=>s});var r=n(7462),l=(n(7294),n(3905));const o={sidebar_position:1},a="Install kubectl",c={unversionedId:"kubernetes/install-kubectl",id:"kubernetes/install-kubectl",title:"Install kubectl",description:"Install Kubernetes client kubectl",source:"@site/docs/kubernetes/install-kubectl.md",sourceDirName:"kubernetes",slug:"/kubernetes/install-kubectl",permalink:"/docs/kubernetes/install-kubectl",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/kubernetes/install-kubectl.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Kubernetes - Tutorial",permalink:"/docs/category/kubernetes---tutorial"},next:{title:"Introduction to Kubernetes",permalink:"/docs/kubernetes/intro-to-kubernetes"}},i={},s=[{value:"Download kubectl client",id:"download-kubectl-client",level:2},{value:"Get <strong>KUBECONFIG</strong> credentials file",id:"get-kubeconfig-credentials-file",level:2},{value:"Configure <code>kubectl</code> client",id:"configure-kubectl-client",level:2},{value:"Configure <code>vim</code> text editor",id:"configure-vim-text-editor",level:2},{value:"Check <strong>KUBECONFIG</strong> configuration",id:"check-kubeconfig-configuration",level:2}],u={toc:s};function p(e){let{components:t,...n}=e;return(0,l.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"install-kubectl"},"Install kubectl"),(0,l.kt)("p",null,"Install Kubernetes client ",(0,l.kt)("inlineCode",{parentName:"p"},"kubectl")),(0,l.kt)("h2",{id:"download-kubectl-client"},"Download kubectl client"),(0,l.kt)("p",null,"After ",(0,l.kt)("strong",{parentName:"p"},"Kubernetes")," cluster installation, get ",(0,l.kt)("inlineCode",{parentName:"p"},"kubectl")," command line tool based on instructions from documentation ",(0,l.kt)("a",{parentName:"p",href:"https://kubernetes.io/docs/tasks/tools/#kubectl"},"kubectl"),"."),(0,l.kt)("h2",{id:"get-kubeconfig-credentials-file"},"Get ",(0,l.kt)("strong",{parentName:"h2"},"KUBECONFIG")," credentials file"),(0,l.kt)("p",null,"After ",(0,l.kt)("inlineCode",{parentName:"p"},"kubectl")," installation get ",(0,l.kt)("strong",{parentName:"p"},"KUBECONFIG")," file:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"mkdir $HOME/.kube\nscp root@cp1:/etc/kubernetes/admin.conf $HOME/.kube/config\nchown $(id -u):$(id -g) $HOME/.kube/config\n")),(0,l.kt)("p",null,"Check connection to ",(0,l.kt)("strong",{parentName:"p"},"Kubernetes")," cluster:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"kubectl cluster-info\n")),(0,l.kt)("p",null,"Expected output:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"Kubernetes control plane is running at https://cp1:6443\nCoreDNS is running at https://cp1:6443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy\n\nTo further debug and diagnose cluster problems, use 'kubectl cluster-info dump'.\n")),(0,l.kt)("p",null,"Alternative ways to provide ",(0,l.kt)("strong",{parentName:"p"},"KUBECONFIG")," for ",(0,l.kt)("inlineCode",{parentName:"p"},"kubectl"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"export KUBECONFIG=$HOME/.kube/config\nkubectl cluster-info\n")),(0,l.kt)("p",null,"or"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"kubectl --kubeconfig=$HOME/.kube/config cluster-info\n")),(0,l.kt)("h2",{id:"configure-kubectl-client"},"Configure ",(0,l.kt)("inlineCode",{parentName:"h2"},"kubectl")," client"),(0,l.kt)("p",null,"Configure bash autocompletion for ",(0,l.kt)("inlineCode",{parentName:"p"},"kubectl"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'kubectl completion bash\necho "source <(kubectl completion bash)" >> ~/.bashrc       \nsource <(kubectl completion bash)\n')),(0,l.kt)("h2",{id:"configure-vim-text-editor"},"Configure ",(0,l.kt)("inlineCode",{parentName:"h2"},"vim")," text editor"),(0,l.kt)("p",null,"As the next operation can be configuration for text editor, which you will be using for editting ",(0,l.kt)("strong",{parentName:"p"},"Kubenetes")," ",(0,l.kt)("inlineCode",{parentName:"p"},"yaml")," manifests."),(0,l.kt)("p",null,"Create ",(0,l.kt)("strong",{parentName:"p"},"Vim")," custom configuration file:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-txt",metastring:'title="$HOME/.vimrc"',title:'"$HOME/.vimrc"'},'" Sets tabstop to 2 for working with YAML\nset ts=2\n" Sets softtabstop makes spaces feel like tabs\nset sts=2\n" Sets the shift width to 2, making shift operations (<< or >>)\nset sw=2\n" Expands new tabs to spaces\nset expandtab\n" Convert all existing tabs to spaces\nretab\n" Enable syntax highlighting\nsyntax on\n" For certain filetypes, enable automatic indenting\nfiletype indent plugin on\n" Show column and line number\nset ruler\n')),(0,l.kt)("h2",{id:"check-kubeconfig-configuration"},"Check ",(0,l.kt)("strong",{parentName:"h2"},"KUBECONFIG")," configuration"),(0,l.kt)("p",null,"Check current ",(0,l.kt)("strong",{parentName:"p"},"KUBECONFIG")," config:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"kubectl config view\nkubectl config get-clusters\nkubectl config get-users\nkubectl config get-contexts\nkubectl config current-context\nkubectl get pods\n")),(0,l.kt)("p",null,"Set example cluster adminstrator context:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"kubectl config set-context kube-system-admin --cluster=kubernetes  --user=kubernetes-admin --namespace=kube-system\nkubectl config get-contexts\nkubectl config use-context kube-system-admin\nkubectl get pods\n")),(0,l.kt)("p",null,"Switch back to previous context:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"kubectl config use-context kubernetes-admin@kubernetes\nkubectl config current-context\n")))}p.isMDXComponent=!0}}]);